function formatDate(date){var hours=date.getHours(),minutes=date.getMinutes(),ampm=hours>=12?"pm":"am";hours%=12,hours=hours?hours:12,minutes=minutes<10?"0"+minutes:minutes;var strTime=hours+":"+minutes+" "+ampm;return date.getMonth()+1+"/"+date.getDate()+"/"+date.getFullYear()+" "+strTime}function dynamicSort(property){var sortOrder=1;return"-"===property[0]&&(sortOrder=-1,property=property.substr(1)),function(a,b){var result=a[property]<b[property]?-1:a[property]>b[property]?1:0;return result*sortOrder}}function resRef(obj,str){return str.split(".").reduce(function(o,x){return"undefined"!=typeof o?o[x]:void console.log("There is missing data within object ",o," referenced by :",x)},obj)}!function(){var initInjector=angular.injector(["ng"]),$http=initInjector.get("$http");return $http.get("app-config.json").then(function(response){var SETTINGS=response.data;$http.get(SETTINGS.navigationFile).then(function(response){SETTINGS.nav={},SETTINGS.nav=response.data.sort(dynamicSort("sortOrder")),SETTINGS.navRight={},SETTINGS.navRight=response.data.sort(dynamicSort("sortOrder")),PARTICLE.constant("CONFIG",SETTINGS)}).then(function(){angular.bootstrap(document.body,["PARTICLE"]),angular.element(document).ready(function(){})})["catch"](function(data){console.log("Unable to load: ",SETTINGS.navigationFile,data)})})["catch"](function(data){console.log("Unable to load app-configs.json")})}();var PARTICLE=angular.module("PARTICLE",["ngAnimate","ui.router","jsonFormatter"]).run(["$rootScope","$state",function($rootScope,$state){$rootScope.$state=$state}]);PARTICLE.provider("centralObject",function(){var obj={};return{set:function(property,value){obj[property]=value},$get:function(){return obj}}}),PARTICLE.config(function($stateProvider,$urlRouterProvider,CONFIG,centralObjectProvider){var objectStates={},applicationStates=[],configState=function(obj,type,parentName,arrayOfStates,objectOfStates){if("object"==typeof obj){var newState=obj;return newState.name=null!==parentName?parentName+"."+obj.slug:obj.slug,newState.contentFile=CONFIG.contentPath+type+"/"+obj._id+CONFIG.contentFileSuffix,newState.url="/"+obj.slug,newState.subs=[],newState.template=obj.template?obj.template:type.single(),newState.headerTemplate=obj.headerTemplate?obj.headerTemplate:"header-content",newState.controller=obj.controller?obj.controller:"content","collections"==type?newState.views={"headerContent@":{templateUrl:CONFIG.viewPath+newState.headerTemplate+".html",controller:"content",resolve:{contentSettings:function(){return newState}}},"primary@":{templateUrl:CONFIG.viewPath+newState.template+".html",controller:newState.controller,resolve:{contentSettings:function(){return newState}}}}:newState.views={"primary@":{templateUrl:CONFIG.viewPath+newState.template+".html",controller:newState.controller,resolve:{contentSettings:function(){return newState}}}},$stateProvider.state(newState.name,newState),objectOfStates[obj.slug]={prop:newState},newState}return null},makeStates=function(obj,parentName,arrayOfStates,objectOfStates){var newParent,newParentName,newObRef=null;for(var property in obj)if(obj.hasOwnProperty(property)&&CONFIG.collectionsStateObjects.inArray(property)&&Array.isArray(obj[property])&&obj[property].length)for(var inst in obj[property])obj[property].hasOwnProperty(inst)&&(newParent=configState(obj[property][inst],property,parentName,arrayOfStates,objectOfStates),null!==newParent&&(arrayOfStates.push(newParent),newParentName=newParent.name,newObRef=obj[property][inst].slug,makeStates(obj[property][inst],newParentName,newParent.subs,objectOfStates[newObRef])))};$stateProvider.state("home",{url:"/",views:{"tagline@":{templateUrl:CONFIG.viewPath+"tagline.html"},"headerContent@":{templateUrl:CONFIG.viewPath+"header-home.html"},"primary@":{templateUrl:CONFIG.viewPath+"home.html"}}}),$urlRouterProvider.otherwise("/");var objs={};objs.collections=CONFIG.nav,makeStates(objs,null,applicationStates,objectStates),centralObjectProvider.set("applicationStates",applicationStates),centralObjectProvider.set("config",CONFIG),centralObjectProvider.set("objectStates",objectStates)}),PARTICLE.controller("content",function($scope,$stateParams,$state,$timeout,dataIo,CONFIG,contentSettings){$scope.CONFIG=CONFIG,$scope.content=null,dataIo.getFile({file:contentSettings.contentFile}).then(function(_data){$timeout(function(){$scope.content=dataIo.parseContent(_data.data[Object.keys(_data.data)[0]])},500)})["catch"](function(_data){$scope.content=_data})}),PARTICLE.controller("ui",function($scope,centralObject,$timeout,$state){$scope.CONFIG=centralObject.config,$scope.applicationStates=centralObject.applicationStates,$scope.centralObject=centralObject,$scope.viewParameters={},$scope.setViewParameter=function(prop,val){$scope.viewParameters[prop]=val},$scope.viewParams={},$scope.viewParamsChange=function(obj){for(var property in obj)obj.hasOwnProperty(property)&&($scope.viewParams[property]=obj[property])},$scope.viewParamsChange($scope.CONFIG.viewParams),$timeout(function(){$(document).foundation()},2e3),$scope.setViewParameter=function(prop,val){$scope.viewParameters[prop]=val},$scope.$on("$stateChangeSuccess",function(){$("#offCanvasLeft").hasClass("is-open")&&$("#offCanvasLeft").foundation("close"),$("#offCanvasRight").hasClass("is-open")&&$("#offCanvasRight").foundation("close")})}),PARTICLE.directive("contentBlock",function($timeout,dataIo,CONFIG,$location,$state){var directiveDefinitionObject={restrict:"EA",template:'<div ng-include="getTemplateUrl()"></div>',transclude:!0,scope:{data:"="},controller:function($scope){$scope.loaded=null,$scope.error=null,$scope.CONFIG=CONFIG,$scope.hash=$location.path(),$scope.current=$state.current.name;var singleType=$scope.data.type,idlocation="_id";idlocation=$scope.data.obj._id?"_id":"$oid",$scope.getTemplateUrl=function(){return"s"==singleType.charAt(singleType.length-1)&&(singleType=singleType.substr(0,singleType.length-1)),$scope.singleType=singleType,CONFIG.viewPath+singleType+".html"},dataIo.getFile({file:CONFIG.contentPath+$scope.data.type+"/"+$scope.data.obj[idlocation]+CONFIG.contentFileSuffix}).then(function(_data){$timeout(function(){$scope.content=dataIo.parseContent(_data.data[Object.keys(_data.data)[0]]),$scope.loaded=!0},500)})["catch"](function(_data){console.log("Error in DIRECTIVE:contentBlock"),$scope.error=_data})}};return directiveDefinitionObject}),PARTICLE.directive("loadBlock",function($timeout,dataIo,CONFIG,$location,$state){var directiveDefinitionObject={restrict:"EA",template:'<div ng-include="getTemplateUrl()"></div>',transclude:!1,scope:{data:"="},controller:function($scope){$scope.loaded=null,$scope.error=null,$scope.CONFIG=CONFIG,$scope.hash=$location.path(),$scope.current=$state.current.name,$scope.data&&($scope.getTemplateUrl=function(){return CONFIG.viewPath+$scope.data.template},dataIo.getFile({file:CONFIG.contentPath+$scope.data.content+CONFIG.contentFileSuffix}).then(function(_data){$timeout(function(){$scope.content=dataIo.parseContent(_data.data[Object.keys(_data.data)[0]]),$scope.loaded=!0},500)})["catch"](function(_data){console.log("Error in DIRECTIVE:contentBlock"),$scope.error=_data}))}};return directiveDefinitionObject}),PARTICLE.factory("dataIo",["$http","dataRigger","CONFIG","$sce",function($http,dataRigger,CONFIG,$sce){var dataIo={};return dataIo.getFile=function(_params){CONFIG.showConsoleLogs&&console.log("dataIo.getFile",_params);var searchData=dataRigger.getNew("file",_params);return $http({method:"GET",url:searchData.object.file,params:searchData.object})},dataIo.getContent=function(_params){var that=this;CONFIG.showConsoleLogs&&console.log("dataIo.getContent",_params.file);var searchData=dataRigger.getNew("file",_params);$http({method:"GET",url:searchData.object.file,params:searchData.object}).then(function(_data){console.log(_data.data[Object.keys(_data.data)[0]]),_params.content=that.parseContent(_data.data[Object.keys(_data.data)[0]]),console.log("_params.content",_params.content)})["catch"](function(_data){$scope.content=_data})},dataIo.parseContent=function(obj){for(var property in obj)obj.hasOwnProperty(property)&&("object"==typeof obj[property]?this.parseContent(obj[property]):CONFIG.trustedHTML.inArray(property)&&(obj[property]=$sce.trustAsHtml(obj[property])));return obj},dataIo.xml2json=function(xml){var x2js=new X2JS,json=x2js.xml_str2json(xml);return json},dataIo}]).service("dataRigger",function(){this.getApiBaseUrl=function(_params){return"https://api.github.com/"},this.fillDataInObjectByList=function(_object,_params,_list){return angular.forEach(_list,function(value,key){angular.isDefined(_params[value])&&(_object.object[value]=_params[value])}),_object},this.getNew=function(_type,_params){var githubSearchData={object:{},url:""};switch(angular.isDefined(_params.per_page)&&(githubSearchData.object.per_page=_params.per_page),angular.isDefined(_params.access_token)&&(githubSearchData.object.access_token=_params.access_token),_type){case"file":githubSearchData=this.fillDataInObjectByList(githubSearchData,_params,["file"]);break;case"user":githubSearchData.object.per_page=void 0,githubSearchData=this.fillDataInObjectByList(githubSearchData,_params,[]),githubSearchData.url=this.getApiBaseUrl()+"users/"+_params.user;break;case"reposByUser":githubSearchData=this.fillDataInObjectByList(githubSearchData,_params,["q","sort","order","page"]),githubSearchData.url=this.getApiBaseUrl()+"users/"+_params.user+"/repos";break;case"reposByName":githubSearchData=this.fillDataInObjectByList(githubSearchData,_params,["sort","order","page"]),githubSearchData.url=this.getApiBaseUrl()+"search/repositories?q="+_params.q;break;case"repoByUserAndName":githubSearchData.object={access_token:_params.access_token},githubSearchData=this.fillDataInObjectByList(githubSearchData,_params,[]),githubSearchData.url=this.getApiBaseUrl()+"repos/"+_params.user+"/"+_params.repo;break;case"eventsByUser":githubSearchData=this.fillDataInObjectByList(githubSearchData,_params,["q","sort","order","page"]),githubSearchData.url=this.getApiBaseUrl()+"users/"+_params.user+"/events";break;case"eventsFromRepoByUserAndName":githubSearchData=this.fillDataInObjectByList(githubSearchData,_params,["q","sort","order","page"]),githubSearchData.url=this.getApiBaseUrl()+"repos/"+_params.user+"/"+_params.repo+"/events";break;case"fileByRepoName":githubSearchData.object={access_token:_params.access_token},githubSearchData=this.fillDataInObjectByList(githubSearchData,_params,[]),githubSearchData.url=this.getApiBaseUrl()+"repos/"+_params.user+"/"+_params.repo+"/contents/"+_params.path,console.log("githubSearchData.url",githubSearchData.url)}return githubSearchData}}),PARTICLE.factory("$datasource",["$http","$sce","$timeout",function($http,$sce,$timeout){var service={initialize:function(params,hash){decodeParams(params,hash)},getData:function(uri,params,hash){var config={params:params};return"undefined"!=typeof webSessionToken&&(config.headers={"X-Session-Token":webSessionToken.toString()}),encodeParams(params,hash),$http.get(uri,config).then(function(response){return response.data})},processData:function(raw,results,start_index,group_num){var ui_nodes=[],widCount=0,chunked_bits=[],group_by=3;return raw.hasOwnProperty("widgets")?(group_by=void 0!==raw.group_by?raw.group_by:group_by,chunked_bits=raw.widgets.chunk(group_by)):(group_by=group_num,chunked_bits=raw.chunk(group_by)),chunked_bits.forEach(function(nodes,indx){var children_to_process=[],common_children_group_class=start_index+"_"+indx+"_group",controlsChildren=0;nodes.forEach(function(node){node.toggle=1,node.id_class=start_index+"_"+widCount,widCount++,void 0!==node.primary_value&&(node.primary_value=resRef(results,node.primary_value)),void 0!==node.title&&(node.title=$sce.trustAsHtml(node.title)),void 0!==node.body&&(node.body=$sce.trustAsHtml(resRef(results,node.body))),void 0!==node.content&&"object"==typeof node.content&&Object.keys(node.content).forEach(function(key){void 0!==node.content[key].words&&("object"!=typeof node.content[key].words?node.content[key].words=$sce.trustAsHtml(resRef(results,node.content[key].words)):Object.keys(node.content[key].words).forEach(function(keyInner){node.content[key].words[keyInner]=$sce.trustAsHtml(resRef(results,node.content[key].words[keyInner]))})),void 0!==node.content[key].primary_value&&(node.content[key].primary_value=resRef(results,node.content[key].primary_value))});var mynewContainerWidget=new container_widget;if(node.hasOwnProperty("widgets")){controlsChildren=1,mynewContainerWidget.id_class=start_index+"_"+widCount;var pointerToWidgets=node.widgets;delete node.widgets,node.group_by=void 0!==node.group_by?node.group_by:group_by,mynewContainerWidget.widgets=service.processData(pointerToWidgets,results,mynewContainerWidget.id_class,node.group_by),mynewContainerWidget.label="Empty Container",mynewContainerWidget.toggle=1,"hidden"==node.children_initial_state&&(mynewContainerWidget.toggle=0),node.activates=mynewContainerWidget.id_class,node.hides=common_children_group_class,mynewContainerWidget.group_class=common_children_group_class,widCount++}"adjacent"!=node.position_hidden_children&&_isNotMobile||!controlsChildren?(controlsChildren&&children_to_process.push(mynewContainerWidget),ui_nodes.push(node)):(ui_nodes.push(node),ui_nodes.push(mynewContainerWidget)),controlsChildren=0}),children_to_process.forEach(function(node){ui_nodes.push(node)})}),ui_nodes}},container_widget=function(){this.title=null,this.type="empty_container",this.block_type="col-sm-12",this.primary_value=null,this.color_code=null,this.group_by=3,this.children_inital_state="show",this.widgets=null},encodeParams=function(params,hash){for(var param in params)"agencyCode"===param&&(hash.a=parseInt(params[param]));location.hash=$.param(hash)},decodeParams=function(params,hash){try{var json,str=decodeURIComponent(location.hash.substring(2));str&&(json=JSON.parse('{"'+str.replace(/&/g,'","').replace(/=/g,'":"')+'"}'),json&&"object"==typeof json&&null!==json&&(console.log("Parameters from URL hash string:",json),hash=json))}catch(e){console.log("URL hash string is invalid")}for(var param in hash)"a"===param&&(params.agencyCode=("000"+hash[param]).substring(hash[param].length))};return service}]),PARTICLE.filter("navFilter",function(){return function(items,menu){var filtered=[];return void 0===menu||""===menu?items:(angular.forEach(items,function(item){"mainNav"===menu?item.sortOrder>=1&&filtered.push(item):"rightNav"===menu?item.rightNavOrder>=1&&filtered.push(item):"homeHeader"===menu?item.homePageOrder>=1&&item.homePageOrder<=3&&filtered.push(item):"homeHeaderButton"===menu?4==item.homePageOrder&&filtered.push(item):"homeBody"===menu?item.homePageOrder>=5&&filtered.push(item):filtered.push(item)}),filtered)}}),PARTICLE.filter("unsafe",function($sce){return $sce.trustAsHtml}),Object.defineProperty(Array.prototype,"chunk",{value:function(chunkSize){var array=this;return[].concat.apply([],array.map(function(elem,i){return i%chunkSize?[]:[array.slice(i,i+chunkSize)]}))}}),Array.prototype.inArray=function(needle){return this.indexOf(needle)!=-1},String.prototype.replaceAll=function(search,replacement){var target=this;return target.split(search).join(replacement)};var _isNotMobile=function(){var check=!1;return function(a){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))&&(check=!0)}(navigator.userAgent||navigator.vendor||window.opera),!check}();Math.easeOutBounce=function(pos){return pos<1/2.75?7.5625*pos*pos:pos<2/2.75?7.5625*(pos-=1.5/2.75)*pos+.75:pos<2.5/2.75?7.5625*(pos-=2.25/2.75)*pos+.9375:7.5625*(pos-=2.625/2.75)*pos+.984375},String.prototype.upper=function(){return this.toUpperCase()},String.prototype.single=function(){return this.replace(/s$/,"")};
//# sourceMappingURL=base.min.js.map
